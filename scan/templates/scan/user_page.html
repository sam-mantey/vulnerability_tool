{% extends 'core/base.html' %}

{% block title%} {{username}} | Dashboard {% endblock %}

{% block content %}
<div class='flex container mx-auto pt-10 items-center'>
  <h1 class="container  mx-auto text-2xl" >Welcome back {{username}}</h1>
  <a href='{% url "scan:new_scan" request.user.username%}' class='px-6 py-4 bg-teal-500 flex text-center rounded-xl text-white gap-3'>
    <svg id="Layer_1" height="24px" viewBox="0 0 24 24" width="24px" fill="#ffffff" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1">
      <path d="m12 0a12 12 0 1 0 12 12 12.013 12.013 0 0 0 -12-12zm0 22a10 10 0 1 1 10-10 10.011 10.011 0 0 1 -10 10zm1-11h4v2h-4v4h-2v-4h-4v-2h4v-4h2z"/>
    </svg>
    <p class='flex'>Newscan</p>
  </a>
</div>


<div class="container mx-auto mt-10">
    <div class="bg-white drop-shadow rounded-lg overflow-hidden">
      <div class="p-6 border-b border-gray-200">
         <h2 class="text-2xl font-bold mb-2">Your Scans</h2>
         <h6 class="text-yellow-600 font-bold">(Click on a scan id to view the scan report)</h6>
      </div>
      <div class="p-6">
        <table class="min-w-full table-auto">
          <thead>
            <tr>
              <th class="px-4 py-2">Scan ID</th>
              <th class="px-4 py-2">Scan Type</th>
              <th class="px-4 py-2">Url</th>
              <th class="px-4 py-2">Scan Date</th>
              <th class="px-4 py-2">Report Status</th>
            </tr>
          </thead>
          <tbody>
            {% for scan in scans %}
              <tr class="table-row-clickable cursor-pointer text-center">
                <td class="border px-4 py-2"><a href='{% url "scan:scan_detail" request.user.username scan.id%}'>{{scan.id}}</a></td>
                <td class="border px-4 py-2">{{scan.scan_type}}</td>
                <td class="border px-4 py-2"><a href='{% url "scan:scan_json" request.user.username scan.id %}'> {{scan.url}}</a></td>
                <td class="border px-4 py-2">{{scan.date_created}}</td>
                <td class="border px-4 py-2 text-green-600 text-yellow-60">Succesful</td>
              </tr>
            {% endfor %} 
          </tbody>
        </table>
      </div>
    </div>
</div>
{% endblock %}
